<form
  [formGroup]="registerForm"
  (ngSubmit)="onSubmit()"
  class="luxury-green-form"
>
  <h2 class="form-title">რეგისტრაცია</h2>

  <div class="form-row">
    <div class="form-group">
      <label>სახელი</label>
      <input type="text" formControlName="firstName" class="form-control" />
      <div
        *ngIf="
          registerForm.get('firstName')?.invalid &&
          registerForm.get('firstName')?.touched
        "
      >
        <small *ngIf="registerForm.get('firstName')?.errors?.['required']"
          >სახელის შეყვანა აუცილებელია</small
        >
      </div>
    </div>

    <div class="form-group">
      <label>გვარი</label>
      <input type="text" formControlName="lastName" class="form-control" />
      <div
        *ngIf="
          registerForm.get('lastName')?.invalid &&
          registerForm.get('lastName')?.touched
        "
      >
        <small *ngIf="registerForm.get('lastName')?.errors?.['required']"
          >გვარის შეყვანა აუცილებელია</small
        >
      </div>
    </div>
  </div>

  <div class="form-group">
    <label>მეილი</label>
    <input
      type="email"
      formControlName="email"
      class="form-control"
      placeholder="მაგ: example@mail.com"
    />
    <div
      *ngIf="
        registerForm.get('email')?.invalid && registerForm.get('email')?.touched
      "
    >
      <small *ngIf="registerForm.get('email')?.errors?.['required']"
        >მეილის შეყვანა აუცილებელია</small
      >
      <small *ngIf="registerForm.get('email')?.errors?.['email']"
        >მეილი არასწორია</small
      >
    </div>
  </div>

  <div class="form-group">
    <label>ტელეფონის ნომერი</label>
    <input
      type="text"
      formControlName="phoneNumber"
      class="form-control"
      placeholder="მაგ: 555123456"
    />
    <div
      *ngIf="
        registerForm.get('phoneNumber')?.invalid &&
        registerForm.get('phoneNumber')?.touched
      "
    >
      <small *ngIf="registerForm.get('phoneNumber')?.errors?.['required']"
        >ნომრის შეყვანა აუცილებელია</small
      >
      <small *ngIf="registerForm.get('phoneNumber')?.errors?.['minlength']"
        >მინიმალური 9 სიმბოლო</small
      >
    </div>
  </div>

  <div class="form-group">
    <label>პაროლი</label>
    <input type="password" formControlName="password" class="form-control" />
    <div
      *ngIf="
        registerForm.get('password')?.invalid &&
        registerForm.get('password')?.touched
      "
    >
      <small *ngIf="registerForm.get('password')?.errors?.['required']"
        >პაროლის შეყვანა აუცილებელია</small
      >
      <small *ngIf="registerForm.get('password')?.errors?.['minlength']"
        >მინიმალური 8 სიმბოლო</small
      >
    </div>
  </div>

  <div class="form-group">
    <label>გაიმეორეთ პაროლი</label>
    <input
      type="password"
      formControlName="confirmPassword"
      class="form-control"
    />
    <div
      *ngIf="
        registerForm.get('confirmPassword')?.invalid &&
        registerForm.get('confirmPassword')?.touched
      "
    >
      <small *ngIf="registerForm.get('confirmPassword')?.errors?.['required']"
        >პაროლის გამეორება აუცილებელია</small
      >
      <small
        *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch']"
        >პაროლები არ ემთხვევა</small
      >
    </div>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div *ngIf="successMessage" class="success-message">
    {{ successMessage }}
  </div>

  <button
    type="submit"
    [disabled]="registerForm.invalid || loading"
    class="green-button"
  >
    <span *ngIf="!loading">რეგისტრაცია</span>
    <span *ngIf="loading">გთხოვთ მოიცადოთ...</span>
  </button>

  <div class="form-footer">
    <p>უკვე გაქვთ ანგარიში? <a routerLink="/login">შესვლა</a></p>
  </div>
</form>
